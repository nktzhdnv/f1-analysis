# Анализ Гонок F1

## ! Сезон завершился, поэтому сейчас будет написано "сезон завершен" и некоторые данные не будут показаны (их просто нет)

## Файлы
`app.py` — основной Flask-сервер для анализа данных Формулы 1:

- Получает расписание гонок и результаты сезона из fastf1
- Анализирует исторические данные по трассам
- Строит графики производительности гонщиков
- Генерирует прогнозы на следующую гонку на основе некоторой статистики

`templates/` — веб-интерфейс для отображения html

## Данные
- Все данные берутся из [fastf1 API](https://github.com/theOehrly/Fast-F1).
- Используемые данные кэшируются для ускорения работы и снижения нагрузки на API (кеш файлы и директория для них создаются сами)


## Запуск
Установите зависимости:
`pip install flask fastf1 matplotlib numpy pandas`

Запустите приложение:
`python app.py`

Откройте в браузере:
`http://localhost:5000`

## Анализ и выводы

### Расчет рейтинга гонщиков на трассе

РЕЙТИНГ = Средние очки + Бонус позиции + Бонус стабильности
- Средние очки: сумма очков гонщика на трассе за 3 года / количество гонок
- Коэффициент позиции: (20 - best_position) × 0.5

Обосноавание:
1. Средние очки за последние 3 года говорят о подготовленности и форме гонщика, а также машины.
2. Бонус позиции - учитывает потенциал гонщика, то есть если в один год он был на первых позициях, модель даст ему преимущество
3. Бонус стабильности - убирает эффект случайности (стандартное отклонение)

Коэффициенты подобраны методом калибровки на основе прошлых лет. 
0.5 - чтобы снизить "ценность" бонуса
10 - привести стандартное отклонение к приближенной шкале FIA для удобства

Примеры:
- Победа (1 место): (20 - 1) × 0.5 = 9.5
- 3 место: (20 - 3) × 0.5 = 8.5
- 10 место: (20 - 10) × 0.5 = 5.0
- Коэффициент стабильности: min(5, 10 / стандартное_отклонение(позиций))
- Меньший разброс результатов = больший бонус


### Выводы по анализу

Выполнен анализ и прогноз. Прогноз совпал с последней гонкой.

1. Исторические результаты на трассах
Ферстаппен, Норрис и Леклерк традиционно сильны на предстоящих трассах
Золотая рамка на графике указывает на попадание в топ-3 за последние 2 года

2. Стратегии пит-стопов
Команды используют различные стратегии остановок
Ранние пит-стопы часто связаны с инцидентами или изменением погоды
Поздние остановки могут указывать на некоторую стратегию

3. Анализ времени кругов
Время круга значительно возрастает во время пит-стопов
В начале гонки наблюдается повышенное время из-за борьбы за позиции
Профессиональные гонщики показывают стабильный темп даже при множественных остановках
Разделение стратегий пит-стопов между командами создает тактические возможности

4. Текущая форма гонщиков
Топ-гонщики демонстрируют стабильно высокие средние очки
Молодые гонщики показывают прогресс в течение сезона
